<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ReadTogether - Student</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
    <a href="/" style="padding: 0; background: none; text-decoration: none; display: inline-block;">
      <img src="/static/WordieBirdieLogo.png" alt="WordieBirdie Logo" style="width: 60px; height: auto;">
    </a>
    <h1 style="margin: 0;">Student Dashboard</h1>
  </div>
  
  <h2>Your Assignments</h2>
  <div id="assignmentsList">
    <p>Loading assignments...</p>
  </div>
  
  <script>
    async function loadAssignments() {
      try {
        const response = await fetch('/api/assignments');
        const assignments = await response.json();
        
        const listDiv = document.getElementById('assignmentsList');
        
        if (assignments.length === 0) {
          listDiv.innerHTML = '<p>No assignments available yet.</p>';
          return;
        }
        
        listDiv.innerHTML = '<ul>' + 
          assignments.map(assignment => 
            `<li>
              <strong>${assignment.title}</strong> (Grade ${assignment.grade_level})
              <button onclick="openAssignment(${assignment.id})">Start Assignment</button>
            </li>`
          ).join('') + 
        '</ul>';
      } catch (err) {
        document.getElementById('assignmentsList').innerHTML = 
          '<p>Error loading assignments: ' + err.message + '</p>';
      }
    }
    
    function openAssignment(assignmentId) {
      window.location.href = `/assignment?id=${assignmentId}`;
    }
    
    loadAssignments();
  </script>
</body>
</html>

